Laba 1: Создайте БД музея. Ориентировочные таблицы-составляющие: «Экспонаты», «Авторы», «Виды экспозиции», «Жанры», «Проведение выставки».

Laba 2:
1. Написать запросы по индивидуальной базе данных: условный запрос, итоговый запрос, параметрический запрос, запрос на объединение, итоговый за-прос с использованием группировки по части поля с типом дата. 
Варианты зада-ний приведены в прил. 3, все результаты запросов также должны быть отсорти-рованы и содержать не менее 5 записей. В отчет обязательно включается фор-мулировка запроса, код запроса на SQL 
и результат его выполнения. 
2. Для индивидуального варианта самостоятельно придумать задание и ре-ализовать следующие типы запросов:
	с внутренним соединением таблиц, используя стандартный синтаксис SQL (JOIN…ON, JOIN…USING или NATURAL JOIN), который не применялся в предыдущих запросах;
	с внешним соединением таблиц, используя FULL JOIN, LEFT JOIN или RIGHT JOIN, при этом обязательным является наличие в БД данных, которые будут выводиться именно с выбранным оператором внешнего соединения;
	с использованием предиката IN с подзапросом;
	с использованием предиката ANY/ALL с подзапросом;
  с использованием предиката EXISTS/NOT EXISTS с подзапросом.

Создайте запросы: «Малоизвестные экспонаты» (условная выборка); «Выставле-но работ по авторам» (итоговый запрос); «Экспозиции работ повышенной цен-ности» (параметрический запрос);
«Общий список авторов с количеством работ и экспонатов с количеством экспозиций» (запрос на объединение); «Количество выставок по кварталам» (запрос по полю с типом дата).


Laba 3:
1. В индивидуальной БД создать: 
1.1)	горизонтальное обновляемое представление с условием (WHERE); 
1.2)	проверить обновляемость горизонтального представления с фразой WITH CHECK OPTION при помощи одной из инструкций UPDATE, DELETE, INSERT (привести примеры выполняющихся и не выполняющихся инструкций,
объяснить);
1.3)Создать вертикальное или смешанное необновляемое представление, предназначенное для работы с основной таблицей БД (в представлении должны содержаться сведения из основной дочерней таблицы
и/или корзины (если есть), но вместо внешних ключей использовать связанные данные родительских таб-лиц, понятные конечному пользователю представления);
1.4) доказать необновляемость представления из предыдущего пункта, про-верив возможность выполнения инструкций UPDATE, DELETE, INSERT над представлением. Сохранить полученный результат 
(сообщение об ошибке или об успешном выполнении), объяснить причины;
1.5) cоздать обновляемое представление для работы с одной из родитель-ских таблиц индивидуальной БД и через него разрешить работу с данными только в рабочие дни (с понедельника по пятницу)
и в рабочие часы (с 9:00 до 17:00) с учетом часового пояса.


Laba 4:
Написать процедуру, выводящую список экспонатов автора, у которого имеется не менее пяти работ. Если таких авторов несколько, то вывести их фамилии и количество экспонатов.
Создать функцию, которая возвращает количество выставок в заданном месяце (году). 
1.	Создать процедуру.
2.	Создать функцию.
Эти задания при необходимости можно усложнить или предложить другие (согласовать с преподавателем) в соответствии с бизнес-логикой вариан-та задания.
При создании следует выполнить следующие минимальные требования к синтаксису:
использовать явный курсор или курсорную переменную, а также атри-буты курсора;
использовать пакет DBMS_OUTPUT для вывода результатов работы в SQL*Plus;
предусмотреть секцию обработки исключительных ситуаций, причем обязательно использовать как предустановленные исключительные ситуации, так и собственные (например, стоит контролировать наличие в БД 
значений, пе-редаваемых в процедуры и функции как параметры);
3.	Создать локальную программу, изменив код ранее написанной проце-дуры или функции.
4.	Написать перегруженные программы, используя для этого ранее со-зданную процедуру или функцию.
5.	Объединить все процедуры и функции, в том числе перегруженные, в пакет.
6.	Написать анонимный PL/SQL-блок, в котором будут вызовы реализо-ванных функций и процедур пакета с различными характерными значениями па-раметров для проверки правильности работы основных задач 
и обработки ис-ключительных ситуаций.



Laba 5:
1.	Написать DML-триггер, регистрирующий изменение данных (вставку, обновление, удаление) в одной из таблиц БД. Во вспомогательную таблицу LOG1 записывать, кто, когда (дата и время) и какое именно
изменение произвел, для одного из столбцов сохранять старые и новые значения.
2.	Написать DDL-триггер, протоколирующий действия пользователей по созданию, изменению и удалению таблиц в схеме во вспомогательную таблицу LOG2 в определенное время и запрещающий эти действия 
в другое время.
3.	Написать системный триггер, добавляющий запись во вспомогательную таблицу LOG3, когда пользователь подключается или отключается. В таблицу логов записывается имя пользователя (USER), 
тип активности (LOGON или LOGOFF), дата (SYSDATE), количество записей в основной таблице БД.
4.	Написать триггеры, реализующие бизнес-логику (ограничения) в заданной вариантом предметной области. Количество и тип триггеров (строковый или операторный, выполняется AFTER или BEFORE) 
определять самостоятельно исходя из сути заданий и имеющейся схемы БД; учесть, что в некоторых вариантах первые два задания могут быть выполнены в рамках одного триггера, 
а также возможно возникновение мута-ции, что приведет к совмещению данного пункта лабораторной работы со сле-дующим. Третий пункт задания предполагает использование планировщика за-дач,
который обязательно должен быть настроен на многократный запуск с ис-пользованием частоты, интервала и спецификаторов.
5.	Самостоятельно или при помощи преподавателя составить задание на триггер, который будет вызывать мутацию таблиц, и решить эту проблему од-ним из двух способов (при помощи переменных пакета 
и двух триггеров или при помощи COMPAUND-триггера).
6.	Написать триггер INSTEAD OF для работы с не обновляемым представ-лением, созданным после выполнения п. 2.4 задания к лабораторной работе №3, проверить DML-командами возможность 
обновления представления после включения триггера (логика работы триггера определяется спецификой пред-метной области варианта).


1)	Запретить выставлять один экспонат на две выставки одновременно; выставлять экспонат, находящийся на реставрации.
2)	Контролировать количество экспонатов на каждой выставке.
3)  Если выставка закончилась, то во вспомогательной таблице обновлять «коэффициент выставляемости» по каждому экспонату и по каждому автору.
